---
title: "Task Mismatch"
author: "Ambrose Yim (University of Oxford)"
date: "22 May 2018"
header-includes:
   - \usepackage{amsmath}
   - \usepackage{amsfonts}
   - \usepackage[total={6.5in,8.75in}, top=1.2in, left=0.9in, includefoot]{geometry}
   - \usepackage{physics}
output:
   pdf_document:
      toc: true
number-sections: true
---

# Set up

Suppose the dependency layer consists of $M$ disconnected cliques of size $n$, each clique corresponding to a task that the needs to be fulfilled.

Suppose we have $N = nM$ agents divided into $M$ coalitions of size $n$. In the ideal situation, each coalition is assigned to one task. Agents within the coalition can coordinate their actions between themselves to optimise the clique the coalition occupies.  

If we build a bipartite graph consisting of coalition nodes and task (clique) nodes there is a one-to-one correspondence between coalitions and tasks. The edges are weighted according to the number of agents assigned from a coalition to a task: in the perfect matching case every edge has weight $n$.

However suppose there is a mismatch between coalitions and cliques: How bad would it be? We start with the perfectly matched state and consider two coalitions $A$ and $B$ sitting on two distinct task cliques $\alpha$ and $\beta$, where $\alpha$ is only occupied by $A$ agents and $\beta$ is occupied by only $B$ agents. We perturb the system by swapping $m$ agents from $A$ and $B$ across $\alpha$ and $\beta$ cliques, to the effect that the $\alpha$ clique would be occupied by $n-m$ $A$ agents and $m$ $B$ agents, and vice versa for the $\beta$ clique.

In our bipartite graph of coalitions and tasks, there is an extra edge of weight $w_{A\beta} = m$ between $A$ and $\beta$ and another between $B$ and $\alpha$. The weights of edges between $A$ and $\alpha$ and $B$ and $\beta$ respectively are weakened to $ w_{A\alpha} = w_{B\beta} = n-m$ due to the sharing.

Now the $A$ coalition is no longer independent and the outcomes of their actions are dependent on the actions of $B$ nodes and vice versa; we can say that they have become entangled. The $A$ agents that remain on $\alpha$ must accept the influence of the $m$ $B$ agents that are participating in the $\alpha$ task, and their collective decision making is also influenced by the $m$ $A$ agents participating in task $\beta$, influenced by $n-m$ $B$ agents that had remained on $\beta$.

This entanglement between communities means they that cannot take independent action to solve the tasks in the dependency layer. Without $B$ agents providing the external conditions for $A$ agents to see the benefits of coordinating, neither task $\alpha$ or $\beta$ can be completed. To break the deadlock, we need some agents to receive some random 'inspiration' to coordinate and excite a contagion of coordination through all coalitions. The size of this 'seed' of inspiration is dependent on the entanglement between coalitions. If there is no entanglement, no seeds are required; if coalition $A$ is entangled with (say) five other coalitions, some fraction of nodes in the five other coalitions must be seeded in order to spur agents in $A$ to coordinate. We quantify the degree of entanglement $\omega_{AB}$ between coalitions $A$ and $B$ to be the number of $B$ agents that influence the utility of $A$'s actions. This relation is symmetric. We caution the reader that $\omega_{AB}$ is not the number of edges between $A$ and $B$ nodes, since one agent from $A$ can influence multiple $B$ agents but there is only one external $A$ agent influencing the entire $B$ coalition.

Since a coalition functions as a collective unit and makes decisions simultaneously, we examine the contagion of coordination between coalition nodes by collapsing the bipartite graph and remove the clique nodes. We place an edge between two coalition nodes $A$ and $B$ if they have edges pointing to the same task node in the bipartite graph (i.e. agents from both coalitions participate in the same task).

There are two ways that two coalitions can share in a task and induce an edge between them in the collapsed coalition graph. The first one we call a 'direct swap', where $\alpha$ and $\beta$ tasks swap $A$ and $B$ agents, where $A$ and $B$ are $\alpha$ and $\beta$'s 'perfect matching' coalitions; the second we call an 'intermediary swap',  where $A$ and $B$ independently perform direct swaps of agents with another coalition $C$ and participate in task $\gamma$. Since $A$ and $B$ participate in the same task $\gamma$, we place an edge between $A$ and $B$ when we collapse the bipartite graph.

The d
